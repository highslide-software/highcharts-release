!/**
 * Highstock JS v12.1.2-modified (2025-02-25)
 * @module highcharts/modules/renko
 * @requires highcharts
 * @requires highcharts/modules/stock
 *
 * Renko series type for Highcharts Stock
 *
 * (c) 2010-2024 Pawel Lysy
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Color,t._Highcharts.Series):"function"==typeof define&&define.amd?define("highcharts/modules/renko",["highcharts/highcharts"],function(t){return e(t,t.SeriesRegistry,t.Color,t.Series)}):"object"==typeof exports?exports["highcharts/modules/renko"]=e(t._Highcharts,t._Highcharts.SeriesRegistry,t._Highcharts.Color,t._Highcharts.Series):t.Highcharts=e(t.Highcharts,t.Highcharts.SeriesRegistry,t.Highcharts.Color,t.Highcharts.Series)}("undefined"==typeof window?this:window,(t,e,o,s)=>(()=>{"use strict";var r={620:t=>{t.exports=o},820:t=>{t.exports=s},512:t=>{t.exports=e},944:e=>{e.exports=t}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var o=i[t]={exports:{}};return r[t](o,o.exports,a),o.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};a.d(n,{default:()=>X});var l=a(944),h=a.n(l),p=a(512),d=a.n(p);let{column:{prototype:{pointClass:c}}}=d().seriesTypes;var u=a(620),g=a.n(u),f=a(820),y=a.n(f);let{animObject:m}=h(),{parse:x}=g(),{noop:b}=h(),{clamp:v,crisp:C,defined:k,extend:M,fireEvent:T,isArray:w,isNumber:S,merge:P,pick:A,objectEach:D}=h();class O extends y(){animate(t){let e,o;let s=this,r=this.yAxis,i=r.pos,a=r.reversed,n=s.options,{clipOffset:l,inverted:h}=this.chart,p={},d=h?"translateX":"translateY";t&&l?(p.scaleY=.001,o=v(r.toPixels(n.threshold||0),i,i+r.len),h?(o+=a?-Math.floor(l[0]):Math.ceil(l[2]),p.translateX=o-r.len):(o+=a?Math.ceil(l[0]):-Math.floor(l[2]),p.translateY=o),s.clipBox&&s.setClip(),s.group.attr(p)):(e=Number(s.group.attr(d)),s.group.animate({scaleY:1},M(m(s.options.animation),{step:function(t,o){s.group&&(p[d]=e+o.pos*(i-e),s.group.attr(p))}})))}init(t,e){super.init.apply(this,arguments);let o=this;(t=o.chart).hasRendered&&t.series.forEach(function(t){t.type===o.type&&(t.isDirty=!0)})}getColumnMetrics(){let t=this,e=t.options,o=t.xAxis,s=t.yAxis,r=o.options.reversedStacks,i=o.reversed&&!r||!o.reversed&&r,a={},n,l=0;!1===e.grouping?l=1:t.chart.series.forEach(function(e){let o;let r=e.yAxis,i=e.options;e.type===t.type&&e.reserveSpace()&&s.len===r.len&&s.pos===r.pos&&(i.stacking&&"group"!==i.stacking?(void 0===a[n=e.stackKey]&&(a[n]=l++),o=a[n]):!1!==i.grouping&&(o=l++),e.columnIndex=o)});let h=Math.min(Math.abs(o.transA)*(!o.brokenAxis?.hasBreaks&&o.ordinal?.slope||e.pointRange||o.closestPointRange||o.tickInterval||1),o.len),p=h*e.groupPadding,d=(h-2*p)/(l||1),c=Math.min(e.maxPointWidth||o.len,A(e.pointWidth,d*(1-2*e.pointPadding))),u=(t.columnIndex||0)+(i?1:0);return t.columnMetrics={width:c,offset:(d-c)/2+(p+u*d-h/2)*(i?-1:1),paddedWidth:d,columnCount:l},t.columnMetrics}crispCol(t,e,o,s){let r=this.borderWidth,i=this.chart.inverted;return s=C(e+s,r,i)-(e=C(e,r,i)),this.options.crisp&&(o=C(t+o,r)-(t=C(t,r))),{x:t,y:e,width:o,height:s}}adjustForMissingColumns(t,e,o,s){if(!o.isNull&&s.columnCount>1){let r=this.xAxis.series.filter(t=>t.visible).map(t=>t.index),i=0,a=0;D(this.xAxis.stacking?.stacks,t=>{let e="number"==typeof o.x?t[o.x.toString()]?.points:void 0,s=e?.[this.index],n={};if(e&&w(s)){let t=this.index,o=Object.keys(e).filter(t=>!t.match(",")&&e[t]&&e[t].length>1).map(parseFloat).filter(t=>-1!==r.indexOf(t)).filter(e=>{let o=this.chart.series[e].options,s=o.stacking&&o.stack;if(k(s)){if(S(n[s]))return t===e&&(t=n[s]),!1;n[s]=e}return!0}).sort((t,e)=>e-t);i=o.indexOf(t),a=o.length}}),i=this.xAxis.reversed?a-1-i:i;let n=(a-1)*s.paddedWidth+e;t=(o.plotX||0)+n/2-e-i*s.paddedWidth}return t}translate(){let t=this,e=t.chart,o=t.options,s=t.dense=t.closestPointRange*t.xAxis.transA<2,r=t.borderWidth=A(o.borderWidth,s?0:1),i=t.xAxis,a=t.yAxis,n=o.threshold,l=A(o.minPointLength,5),h=t.getColumnMetrics(),p=h.width,d=t.pointXOffset=h.offset,c=t.dataMin,u=t.dataMax,g=t.translatedThreshold=a.getThreshold(n),f=t.barW=Math.max(p,1+2*r);o.pointPadding&&o.crisp&&(f=Math.ceil(f)),y().prototype.translate.apply(t),t.points.forEach(function(s){let r=A(s.yBottom,g),y=999+Math.abs(r),m=s.plotX||0,x=v(s.plotY,-y,a.len+y),b,C=Math.min(x,r),M=Math.max(x,r)-C,T=p,w=m+d,P=f;l&&Math.abs(M)<l&&(M=l,b=!a.reversed&&!s.negative||a.reversed&&s.negative,S(n)&&S(u)&&s.y===n&&u<=n&&(a.min||0)<n&&(c!==u||(a.max||0)<=n)&&(b=!b,s.negative=!s.negative),C=Math.abs(C-g)>l?r-l:g-(b?l:0)),k(s.options.pointWidth)&&(w-=Math.round(((T=P=Math.ceil(s.options.pointWidth))-p)/2)),o.centerInCategory&&(w=t.adjustForMissingColumns(w,T,s,h)),s.barX=w,s.pointWidth=T,s.tooltipPos=e.inverted?[v(a.len+a.pos-e.plotLeft-x,a.pos-e.plotLeft,a.len+a.pos-e.plotLeft),i.len+i.pos-e.plotTop-w-P/2,M]:[i.left-e.plotLeft+w+P/2,v(x+a.pos-e.plotTop,a.pos-e.plotTop,a.len+a.pos-e.plotTop),M],s.shapeType=t.pointClass.prototype.shapeType||"roundedRect",s.shapeArgs=t.crispCol(w,s.isNull?g:C,P,s.isNull?0:M)}),T(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){let o=this.options,s=this.pointAttrToOptions||{},r=s.stroke||"borderColor",i=s["stroke-width"]||"borderWidth",a,n,l,h=t&&t.color||this.color,p=t&&t[r]||o[r]||h,d=t&&t.options.dashStyle||o.dashStyle,c=t&&t[i]||o[i]||this[i]||0,u=A(t&&t.opacity,o.opacity,1);t&&this.zones.length&&(n=t.getZone(),h=t.options.color||n&&(n.color||t.nonZonedColor)||this.color,n&&(p=n.borderColor||p,d=n.dashStyle||d,c=n.borderWidth||c)),e&&t&&(l=(a=P(o.states[e],t.options.states&&t.options.states[e]||{})).brightness,h=a.color||void 0!==l&&x(h).brighten(a.brightness).get()||h,p=a[r]||p,c=a[i]||c,d=a.dashStyle||d,u=A(a.opacity,u));let g={fill:h,stroke:p,"stroke-width":c,opacity:u};return d&&(g.dashstyle=d),g}drawPoints(t=this.points){let e;let o=this,s=this.chart,r=o.options,i=s.renderer,a=r.animationLimit||250;t.forEach(function(t){let n=t.plotY,l=t.graphic,h=!!l,p=l&&s.pointCount<a?"animate":"attr";S(n)&&null!==t.y?(e=t.shapeArgs,l&&t.hasNewShapeType()&&(l=l.destroy()),o.enabledDataSorting&&(t.startXPos=o.xAxis.reversed?-(e&&e.width||0):o.xAxis.width),!l&&(t.graphic=l=i[t.shapeType](e).add(t.group||o.group),l&&o.enabledDataSorting&&s.hasRendered&&s.pointCount<a&&(l.attr({x:t.startXPos}),h=!0,p="animate")),l&&h&&l[p](P(e)),s.styledMode||l[p](o.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&r.shadow),l&&(l.addClass(t.getClassName(),!0),l.attr({visibility:t.visible?"inherit":"hidden"}))):l&&(t.graphic=l.destroy())})}drawTracker(t=this.points){let e;let o=this,s=o.chart,r=s.pointer,i=function(t){r?.normalize(t);let e=r?.getPointFromEvent(t),i=!s.scrollablePlotArea||s.isInsidePlot(t.chartX-s.plotLeft,t.chartY-s.plotTop,{visiblePlotOnly:!0});r&&e&&o.options.enableMouseTracking&&i&&(r.isDirectTouch=!0,e.onMouseOver(t))};t.forEach(function(t){e=w(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach(function(e){(e.div||e.element).point=t})}),o._hasTracking||(o.trackerGroups.forEach(function(t){o[t]&&(o[t].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){r?.onTrackerMouseOut(t)}).on("touchstart",i),!s.styledMode&&o.options.cursor&&o[t].css({cursor:o.options.cursor}))}),o._hasTracking=!0),T(this,"afterDrawTracker")}remove(){let t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)}),y().prototype.remove.apply(t,arguments)}}O.defaultOptions=P(y().defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),M(O.prototype,{directTouch:!0,getSymbol:b,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),d().registerSeriesType("column",O);let R=O,{extend:W,merge:L,relativeLength:H,isNumber:_}=h();class E extends R{constructor(){super(...arguments),this.hasDerivedData=!0,this.allowDG=!1}init(){super.init.apply(this,arguments),this.renkoData=[]}setData(t,e,o){this.renkoData=[],super.setData(t,e,o,!1)}getXExtremes(t){return this.processData(),{min:(t=this.getColumn("x",!0))[0],max:t[t.length-1]}}getProcessedData(){let t=this.dataTable.modified,e=[],o=[],s=[],r=this.getColumn("x",!0),i=this.getColumn("y",!0);if(!this.renkoData||this.renkoData.length>0)return{modified:t,closestPointRange:1,cropped:!1,cropStart:0};let a=this.options.boxSize,n=_(a)?a:H(a,i[0]),l=[],h=r.length,p=0,d=i[0];for(let t=1;t<h;t++){let e=i[t]-i[t-1];if(e>n){2===p&&(d+=n);for(let o=0;o<e/n;o++)l.push({x:r[t]+o,low:d,y:d+n,color:this.options.color,upTrend:!0}),d+=n;p=1}else if(Math.abs(e)>n){1===p&&(d-=n);for(let o=0;o<Math.abs(e)/n;o++)l.push({x:r[t]+o,low:d-n,y:d,color:this.options.downColor,upTrend:!1}),d-=n;p=2}}for(let t of(this.renkoData=l,l))e.push(t.x),o.push(t.y),s.push(t.low);return this.processedData=l,t.setColumn("x",e),t.setColumn("y",o),t.setColumn("low",s),{modified:t,cropped:!1,cropStart:0,closestPointRange:1}}}E.defaultOptions=L(R.defaultOptions,{boxSize:4,groupPadding:0,pointPadding:0,downColor:"#ff0000",navigatorOptions:{type:"renko"},fillColor:"transparent",borderWidth:2,lineWidth:0,stickyTracking:!0,borderRadius:{where:"all"},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.low:.2f} - {point.y:.2f}</b><br/>'}}),W(E.prototype,{pointClass:class extends c{getClassName(){return super.getClassName.call(this)+(this.upTrend?" highcharts-point-up":" highcharts-point-down")}}}),d().registerSeriesType("renko",E);let X=h();return n.default})());