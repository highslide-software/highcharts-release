!/**
 * Highcharts JS v12.1.2-modified (2025-02-25)
 * @module highcharts/modules/windbarb
 * @requires highcharts
 *
 * Wind barb series module
 *
 * (c) 2010-2024 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(t._Highcharts,t._Highcharts.dataGrouping.approximations,t._Highcharts.Color,t._Highcharts.Series,t._Highcharts.SeriesRegistry):"function"==typeof define&&define.amd?define("highcharts/modules/windbarb",["highcharts/highcharts"],function(t){return e(t,t.dataGrouping,["approximations"],t.Color,t.Series,t.SeriesRegistry)}):"object"==typeof exports?exports["highcharts/modules/windbarb"]=e(t._Highcharts,t._Highcharts.dataGrouping.approximations,t._Highcharts.Color,t._Highcharts.Series,t._Highcharts.SeriesRegistry):t.Highcharts=e(t.Highcharts,t.Highcharts.dataGrouping.approximations,t.Highcharts.Color,t.Highcharts.Series,t.Highcharts.SeriesRegistry)}("undefined"==typeof window?this:window,(t,e,o,r,i)=>(()=>{"use strict";var s,a={620:t=>{t.exports=o},820:t=>{t.exports=r},512:t=>{t.exports=i},956:t=>{t.exports=e},944:e=>{e.exports=t}},n={};function l(t){var e=n[t];if(void 0!==e)return e.exports;var o=n[t]={exports:{}};return a[t](o,o.exports,l),o.exports}l.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return l.d(e,{a:e}),e},l.d=(t,e)=>{for(var o in e)l.o(e,o)&&!l.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var p={};l.d(p,{default:()=>q});var h=l(944),d=l.n(h),c=l(956),u=l.n(c),g=l(620),f=l.n(g),y=l(820),x=l.n(y),b=l(512),m=l.n(b);let{animObject:v}=d(),{parse:k}=f(),{noop:M}=d(),{clamp:w,crisp:S,defined:A,extend:C,fireEvent:L,isArray:P,isNumber:T,merge:X,pick:O,objectEach:W}=d();class Y extends x(){animate(t){let e,o;let r=this,i=this.yAxis,s=i.pos,a=i.reversed,n=r.options,{clipOffset:l,inverted:p}=this.chart,h={},d=p?"translateX":"translateY";t&&l?(h.scaleY=.001,o=w(i.toPixels(n.threshold||0),s,s+i.len),p?(o+=a?-Math.floor(l[0]):Math.ceil(l[2]),h.translateX=o-i.len):(o+=a?Math.ceil(l[0]):-Math.floor(l[2]),h.translateY=o),r.clipBox&&r.setClip(),r.group.attr(h)):(e=Number(r.group.attr(d)),r.group.animate({scaleY:1},C(v(r.options.animation),{step:function(t,o){r.group&&(h[d]=e+o.pos*(s-e),r.group.attr(h))}})))}init(t,e){super.init.apply(this,arguments);let o=this;(t=o.chart).hasRendered&&t.series.forEach(function(t){t.type===o.type&&(t.isDirty=!0)})}getColumnMetrics(){let t=this,e=t.options,o=t.xAxis,r=t.yAxis,i=o.options.reversedStacks,s=o.reversed&&!i||!o.reversed&&i,a={},n,l=0;!1===e.grouping?l=1:t.chart.series.forEach(function(e){let o;let i=e.yAxis,s=e.options;e.type===t.type&&e.reserveSpace()&&r.len===i.len&&r.pos===i.pos&&(s.stacking&&"group"!==s.stacking?(void 0===a[n=e.stackKey]&&(a[n]=l++),o=a[n]):!1!==s.grouping&&(o=l++),e.columnIndex=o)});let p=Math.min(Math.abs(o.transA)*(!o.brokenAxis?.hasBreaks&&o.ordinal?.slope||e.pointRange||o.closestPointRange||o.tickInterval||1),o.len),h=p*e.groupPadding,d=(p-2*h)/(l||1),c=Math.min(e.maxPointWidth||o.len,O(e.pointWidth,d*(1-2*e.pointPadding))),u=(t.columnIndex||0)+(s?1:0);return t.columnMetrics={width:c,offset:(d-c)/2+(h+u*d-p/2)*(s?-1:1),paddedWidth:d,columnCount:l},t.columnMetrics}crispCol(t,e,o,r){let i=this.borderWidth,s=this.chart.inverted;return r=S(e+r,i,s)-(e=S(e,i,s)),this.options.crisp&&(o=S(t+o,i)-(t=S(t,i))),{x:t,y:e,width:o,height:r}}adjustForMissingColumns(t,e,o,r){if(!o.isNull&&r.columnCount>1){let i=this.xAxis.series.filter(t=>t.visible).map(t=>t.index),s=0,a=0;W(this.xAxis.stacking?.stacks,t=>{let e="number"==typeof o.x?t[o.x.toString()]?.points:void 0,r=e?.[this.index],n={};if(e&&P(r)){let t=this.index,o=Object.keys(e).filter(t=>!t.match(",")&&e[t]&&e[t].length>1).map(parseFloat).filter(t=>-1!==i.indexOf(t)).filter(e=>{let o=this.chart.series[e].options,r=o.stacking&&o.stack;if(A(r)){if(T(n[r]))return t===e&&(t=n[r]),!1;n[r]=e}return!0}).sort((t,e)=>e-t);s=o.indexOf(t),a=o.length}}),s=this.xAxis.reversed?a-1-s:s;let n=(a-1)*r.paddedWidth+e;t=(o.plotX||0)+n/2-e-s*r.paddedWidth}return t}translate(){let t=this,e=t.chart,o=t.options,r=t.dense=t.closestPointRange*t.xAxis.transA<2,i=t.borderWidth=O(o.borderWidth,r?0:1),s=t.xAxis,a=t.yAxis,n=o.threshold,l=O(o.minPointLength,5),p=t.getColumnMetrics(),h=p.width,d=t.pointXOffset=p.offset,c=t.dataMin,u=t.dataMax,g=t.translatedThreshold=a.getThreshold(n),f=t.barW=Math.max(h,1+2*i);o.pointPadding&&o.crisp&&(f=Math.ceil(f)),x().prototype.translate.apply(t),t.points.forEach(function(r){let i=O(r.yBottom,g),y=999+Math.abs(i),x=r.plotX||0,b=w(r.plotY,-y,a.len+y),m,v=Math.min(b,i),k=Math.max(b,i)-v,M=h,S=x+d,C=f;l&&Math.abs(k)<l&&(k=l,m=!a.reversed&&!r.negative||a.reversed&&r.negative,T(n)&&T(u)&&r.y===n&&u<=n&&(a.min||0)<n&&(c!==u||(a.max||0)<=n)&&(m=!m,r.negative=!r.negative),v=Math.abs(v-g)>l?i-l:g-(m?l:0)),A(r.options.pointWidth)&&(S-=Math.round(((M=C=Math.ceil(r.options.pointWidth))-h)/2)),o.centerInCategory&&(S=t.adjustForMissingColumns(S,M,r,p)),r.barX=S,r.pointWidth=M,r.tooltipPos=e.inverted?[w(a.len+a.pos-e.plotLeft-b,a.pos-e.plotLeft,a.len+a.pos-e.plotLeft),s.len+s.pos-e.plotTop-S-C/2,k]:[s.left-e.plotLeft+S+C/2,w(b+a.pos-e.plotTop,a.pos-e.plotTop,a.len+a.pos-e.plotTop),k],r.shapeType=t.pointClass.prototype.shapeType||"roundedRect",r.shapeArgs=t.crispCol(S,r.isNull?g:v,C,r.isNull?0:k)}),L(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){let o=this.options,r=this.pointAttrToOptions||{},i=r.stroke||"borderColor",s=r["stroke-width"]||"borderWidth",a,n,l,p=t&&t.color||this.color,h=t&&t[i]||o[i]||p,d=t&&t.options.dashStyle||o.dashStyle,c=t&&t[s]||o[s]||this[s]||0,u=O(t&&t.opacity,o.opacity,1);t&&this.zones.length&&(n=t.getZone(),p=t.options.color||n&&(n.color||t.nonZonedColor)||this.color,n&&(h=n.borderColor||h,d=n.dashStyle||d,c=n.borderWidth||c)),e&&t&&(l=(a=X(o.states[e],t.options.states&&t.options.states[e]||{})).brightness,p=a.color||void 0!==l&&k(p).brighten(a.brightness).get()||p,h=a[i]||h,c=a[s]||c,d=a.dashStyle||d,u=O(a.opacity,u));let g={fill:p,stroke:h,"stroke-width":c,opacity:u};return d&&(g.dashstyle=d),g}drawPoints(t=this.points){let e;let o=this,r=this.chart,i=o.options,s=r.renderer,a=i.animationLimit||250;t.forEach(function(t){let n=t.plotY,l=t.graphic,p=!!l,h=l&&r.pointCount<a?"animate":"attr";T(n)&&null!==t.y?(e=t.shapeArgs,l&&t.hasNewShapeType()&&(l=l.destroy()),o.enabledDataSorting&&(t.startXPos=o.xAxis.reversed?-(e&&e.width||0):o.xAxis.width),!l&&(t.graphic=l=s[t.shapeType](e).add(t.group||o.group),l&&o.enabledDataSorting&&r.hasRendered&&r.pointCount<a&&(l.attr({x:t.startXPos}),p=!0,h="animate")),l&&p&&l[h](X(e)),r.styledMode||l[h](o.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&i.shadow),l&&(l.addClass(t.getClassName(),!0),l.attr({visibility:t.visible?"inherit":"hidden"}))):l&&(t.graphic=l.destroy())})}drawTracker(t=this.points){let e;let o=this,r=o.chart,i=r.pointer,s=function(t){i?.normalize(t);let e=i?.getPointFromEvent(t),s=!r.scrollablePlotArea||r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop,{visiblePlotOnly:!0});i&&e&&o.options.enableMouseTracking&&s&&(i.isDirectTouch=!0,e.onMouseOver(t))};t.forEach(function(t){e=P(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach(function(e){(e.div||e.element).point=t})}),o._hasTracking||(o.trackerGroups.forEach(function(t){o[t]&&(o[t].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(t){i?.onTrackerMouseOut(t)}).on("touchstart",s),!r.styledMode&&o.options.cursor&&o[t].css({cursor:o.options.cursor}))}),o._hasTracking=!0),L(this,"afterDrawTracker")}remove(){let t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)}),x().prototype.remove.apply(t,arguments)}}Y.defaultOptions=X(x().defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),C(Y.prototype,{directTouch:!0,getSymbol:M,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),m().registerSeriesType("column",Y);let G=Y,{composed:H}=d(),{prototype:R}=G,{prototype:_}=x(),{defined:I,pushUnique:E,stableSort:N}=d();!function(t){function e(t){return _.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function o(){R.translate.apply(this);let t=this,e=t.options,o=t.chart,r=t.points,i=e.onSeries,s=i&&o.get(i),a=s&&s.options.step,n=s&&s.points,l=o.inverted,p=t.xAxis,h=t.yAxis,d=r.length-1,c,u,g=e.onKey||"y",f=n&&n.length,y=0,x,b,m,v,k;if(s&&s.visible&&f){for(y=(s.pointXOffset||0)+(s.barW||0)/2,v=s.currentDataGrouping,b=n[f-1].x+(v?v.totalRange:0),N(r,(t,e)=>t.x-e.x),g="plot"+g[0].toUpperCase()+g.substr(1);f--&&r[d];)if(x=n[f],(c=r[d]).y=x.y,x.x<=c.x&&void 0!==x[g]){if(c.x<=b&&(c.plotY=x[g],x.x<c.x&&!a&&(m=n[f+1])&&void 0!==m[g])){if(I(c.plotX)&&s.is("spline")){let t=[x.plotX||0,x.plotY||0],e=[m.plotX||0,m.plotY||0],o=x.controlPoints?.high||t,r=m.controlPoints?.low||e,i=(i,s)=>Math.pow(1-i,3)*t[s]+3*(1-i)*(1-i)*i*o[s]+3*(1-i)*i*i*r[s]+i*i*i*e[s],s=0,a=1,n;for(let t=0;t<100;t++){let t=(s+a)/2,e=i(t,0);if(null===e)break;if(.25>Math.abs(e-c.plotX)){n=t;break}e<c.plotX?s=t:a=t}I(n)&&(c.plotY=i(n,1),c.y=h.toValue(c.plotY,!0))}else k=(c.x-x.x)/(m.x-x.x),c.plotY+=k*(m[g]-x[g]),c.y+=k*(m.y-x.y)}if(d--,f++,d<0)break}}r.forEach((e,o)=>{let i;e.plotX+=y,(void 0===e.plotY||l)&&(e.plotX>=0&&e.plotX<=p.len?l?(e.plotY=p.translate(e.x,0,1,0,1),e.plotX=I(e.y)?h.translate(e.y,0,0,0,1):0):e.plotY=(p.opposite?0:t.yAxis.len)+p.offset:e.shapeArgs={}),(u=r[o-1])&&u.plotX===e.plotX&&(void 0===u.stackIndex&&(u.stackIndex=0),i=u.stackIndex+1),e.stackIndex=i}),this.onSeries=s}t.compose=function(t){if(E(H,"OnSeries")){let r=t.prototype;r.getPlotBox=e,r.translate=o}return t},t.getPlotBox=e,t.translate=o}(s||(s={}));let j=s,{isNumber:F}=d();class z extends G.prototype.pointClass{isValid(){return F(this.value)&&this.value>=0}}let{animObject:D}=d(),{column:B}=m().seriesTypes,{extend:K,merge:V,pick:Z}=d();class U extends B{init(t,e){super.init(t,e)}pointAttribs(t,e){let o=this.options,r=t.color||this.color,i=this.options.lineWidth;return e&&(r=o.states[e].color||r,i=(o.states[e].lineWidth||i)+(o.states[e].lineWidthPlus||0)),{stroke:r,"stroke-width":i}}windArrow(t){let e=t.beaufortLevel,o=this.options.vectorLength/20,r=1.943844*t.value,i,s=-10;if(t.isNull)return[];if(0===e)return this.chart.renderer.symbols.circle(-10*o,-10*o,20*o,20*o);let a=[["M",0,7*o],["L",-1.5*o,7*o],["L",0,10*o],["L",1.5*o,7*o],["L",0,7*o],["L",0,-10*o]];if((i=(r-r%50)/50)>0)for(;i--;)a.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",5*o,s*o+2],["L",0,s*o+4]),r-=50,s+=7;if((i=(r-r%10)/10)>0)for(;i--;)a.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",7*o,s*o]),r-=10,s+=3;if((i=(r-r%5)/5)>0)for(;i--;)a.push(-10===s?["L",0,s*o]:["M",0,s*o],["L",4*o,s*o]),r-=5,s+=3;return a}drawPoints(){let t=this.chart,e=this.yAxis,o=t.inverted,r=this.options.vectorLength/2;for(let i of this.points){let s=i.plotX,a=i.plotY;!1===this.options.clip||t.isInsidePlot(s,0)?(i.graphic||(i.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+Z(i.colorIndex,i.series.colorIndex))),i.graphic.attr({d:this.windArrow(i),translateX:s+this.options.xOffset,translateY:a+this.options.yOffset,rotation:i.direction}),this.chart.styledMode||i.graphic.attr(this.pointAttribs(i))):i.graphic&&(i.graphic=i.graphic.destroy()),i.tooltipPos=[s+this.options.xOffset+(o&&!this.onSeries?r:0),a+this.options.yOffset-(o?0:r+e.pos-t.plotTop)]}}animate(t){t?this.markerGroup.attr({opacity:.01}):this.markerGroup.animate({opacity:1},D(this.options.animation))}markerAttribs(){return{}}getExtremes(){return{}}shouldShowTooltip(t,e,o={}){return o.ignoreX=this.chart.inverted,o.ignoreY=!o.ignoreX,super.shouldShowTooltip(t,e,o)}}U.defaultOptions=V(B.defaultOptions,{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0}),j.compose(U),K(U.prototype,{beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],beaufortName:["Calm","Light air","Light breeze","Gentle breeze","Moderate breeze","Fresh breeze","Strong breeze","Near gale","Gale","Strong gale","Storm","Violent storm","Hurricane"],invertible:!1,parallelArrays:["x","value","direction"],pointArrayMap:["value","direction"],pointClass:z,trackerGroups:["markerGroup"],translate:function(){let t=this.beaufortFloor,e=this.beaufortName;for(let o of(j.translate.call(this),this.points)){let r=0;for(;r<t.length&&!(t[r]>o.value);r++);o.beaufortLevel=r-1,o.beaufort=e[r-1]}}}),m().registerSeriesType("windbarb",U),u().windbarb||(u().windbarb=(t,e)=>{let o=0,r=0;for(let i=0,s=t.length;i<s;i++)o+=t[i]*Math.cos(e[i]*d().deg2rad),r+=t[i]*Math.sin(e[i]*d().deg2rad);return[t.reduce((t,e)=>t+e,0)/t.length,Math.atan2(r,o)/d().deg2rad]});let q=d();return p.default})());